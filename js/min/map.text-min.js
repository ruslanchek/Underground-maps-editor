var SText=function(t,e,i){function n(){var t=0,n=0,r=g.getBBox(),a=i.getBBox(),c=3;switch(e.text_side){case"top":t=a.cx-r.width/2,n=a.y-e.margin;break;case"right":t=a.x2+e.margin,n=a.cy+r.height/2-c;break;case"bottom":t=a.cx-r.width/2,n=a.y2+r.height+e.margin-c;break;case"left":t=a.x-r.width-e.margin-c,n=a.cy+r.height/2-c}return{x:t,y:n}}function r(e,i,n){var r=document.createElement("canvas"),a=r.getContext("2d");return r.width=100,r.height=11,a.fillStyle="#000",a.font="14px Helvetica",a.fillText("Fill text 121212",0,11),t.image(r.toDataURL(),e,i,100,11)}function a(){x=t.rect(0,0,0,0),x.attr({fill:"rgba(255, 255, 255, 0.75)",cursor:"pointer"})}function c(){var t=g.getBBox(),e=t.x-u,i=t.y-l,n=t.width+2*u,r=t.height+2*l;x.attr({x:e,y:i,width:n,height:r})}function h(){a(),g=Snap("svg").multitext(0,0,e.name),g.attr({fontSize:14,cursor:"pointer"}),o.changeText(e)}var o=this,g=null,x=null,u=2,l=0;this.getText=function(){return g},this.getBg=function(){return x},this.changeText=function(t){var e=n();g.transform("t"+e.x+","+e.y),c()},h()};