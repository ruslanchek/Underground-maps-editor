var m;$(function(){function t(t){for(var a=[],o=0;o<n.length;o++){var s=n[o];s.id!=t.id&&a.push(s)}n=a,e.set("stations",n)}function a(t){for(var a=!1,o=0;o<n.length;o++){var s=n[o];s.id==t.id&&(a=!0)}a||n.push(t),e.set("stations",n)}var n=[],e=new Ractive({el:"#stations",template:"#template",data:{stations:n}});m=new SMap({selector:"#map",map_svg:"img/moscow_1.svg",data_url:"test.json",min_zoom:.68,onStationSelect:function(t,n,e){e||a(t.getData())},onStationUnselect:function(a,n,e){e||t(a.getData())}}),m.init(),$(".zoomer").on("click",function(t){t.preventDefault(),$(this).hasClass("active")?($(this).removeClass("active"),m.zoomIn()):($(this).addClass("active"),m.zoomOut())})});