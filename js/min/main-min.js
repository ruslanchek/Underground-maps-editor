var m;$(function(){function t(t){for(var a=[],e=0;e<n.length;e++){var o=n[e];o.id!=t.id&&a.push(o)}n=a,i.set("stations",n)}function a(t){for(var a=!1,e=0;e<n.length;e++){var o=n[e];o.id==t.id&&(a=!0)}a||n.push(t),i.set("stations",n)}var n=[],i=new Ractive({el:"#stations",template:"#template",data:{stations:n}});m=new iMap.Map({target_id:"map",map_svg:mapSvg,data_url:dataJson,min_zoom:.68,onStationSelect:function(t,n,i){i||a(t.getData())},onStationUnselect:function(a,n,i){i||t(a.getData())}}),m.init(),$(".zoomer").on("click",function(t){t.preventDefault(),$(this).hasClass("active")?($(this).removeClass("active"),m.zoomIn()):($(this).addClass("active"),m.zoomOut())})});